!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).voca={})}(this,function(e){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function i(n,e){var t=1<arguments.length&&void 0!==e?e:{},o=t.onError,r=void 0===o?function(e){return Promise.reject(e)}:o,i=t.onRequest,u=void 0===i?function(e){return e}:i,c=t.onRequestError,s=void 0===c?r:c,a=t.onResponse,f=void 0===a?function(e){return Promise.resolve(e)}:a,d=t.onResponseError,v=void 0===d?r:d;return function(){try{var e=u.apply(void 0,arguments);return n(e.url,e).then(f).catch(v)}catch(e){return s(e)}}}var u=function(){function e(){t(this,e),this.httpMethods=["GET","POST","PUT","DELETE"]}return r(e,[{key:"getEnv",value:function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}},{key:"getHttpMethods",value:function(){return this.httpMethods}}]),e}(),c=function(){function n(e){return t(this,n),this.base=new u,this.uri=e[1],this.vocaInstance=this._vocaItem(),e.includes("GET")?this.vocaInstance("GET",this.uri):e.includes("POST")?this.vocaInstance("POST",this.uri,e[2]):void 0}return r(n,[{key:"_vocaItem",value:function(){return i(this.base.getEnv().fetch,{onRequest:function(e,n,t){var o=2<arguments.length&&void 0!==t?t:void 0;return{url:"".concat(n),body:JSON.stringify(o),method:e}},onResponse:function(e){if(403===e.status)throw new Error("Authorization error.");return e.json()},onError:function(){return Promise.reject()}})}}]),n}(),n={get:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new c(["GET"].concat(n))},post:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new c(["POST"].concat(n))},create:i};e.voca=n,Object.defineProperty(e,"__esModule",{value:!0})});
